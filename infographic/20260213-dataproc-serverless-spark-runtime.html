<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dataproc Serverless for Apache Spark: 新ランタイムバージョンリリース</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap');

    /* Google Cloud Light Theme Base Styles */
    :root {
      --gc-blue: #4285F4;
      --gc-red: #EA4335;
      --gc-yellow: #FBBC04;
      --gc-green: #34A853;
      --gc-blue-900: #174EA6;
      --gc-blue-800: #185ABC;
      --gc-blue-700: #1967D2;
      --gc-blue-600: #1A73E8;
      --gc-blue-500: #4285F4;
      --gc-blue-300: #669DF6;
      --gc-blue-200: #8AB4F8;
      --gc-blue-100: #AECBFA;
      --gc-blue-50: #E8F0FE;
      --gc-on-surface: #202124;
      --gc-on-surface-variant: #5F6368;
      --gc-outline: #80868B;
      --gc-surface: #FFFFFF;
      --gc-surface-container-lowest: #F8F9FA;
      --gc-surface-container-low: #F1F3F4;
      --gc-surface-container: #E8EAED;
      --gc-outline-variant: #DADCE0;
      --gc-blue-tint: #E8F0FE;
      --gc-green-tint: #E6F4EA;
      --gc-red-tint: #FCE8E6;
      --gc-yellow-tint: #FEF7E0;
      --gc-purple-tint: #F3E8FD;
      --gc-teal-tint: #E0F7FA;
      --gc-purple: #A142F4;
      --gc-teal: #00BCD4;
      --gc-orange: #FF6D00;
    }

    * { box-sizing: border-box; }

    body {
      background-color: var(--gc-surface);
      font-family: 'Google Sans', 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
      color: var(--gc-on-surface-variant);
      font-size: 16px;
      line-height: 1.7;
      padding: 20px;
      margin: 0;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      width: 100%;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
      flex-wrap: wrap;
      padding-bottom: 16px;
      border-bottom: 3px solid var(--gc-blue-600);
    }

    h1, .title {
      font-size: 36px;
      font-weight: 700;
      color: var(--gc-on-surface);
      margin: 0;
      line-height: 1.3;
    }

    h2, .section-title {
      font-size: 24px;
      font-weight: 600;
      color: var(--gc-on-surface);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--gc-blue-600);
    }

    h3 {
      font-size: 18px;
      font-weight: 600;
      color: var(--gc-on-surface);
      margin: 16px 0 8px 0;
    }

    .subtitle {
      font-size: 16px;
      color: var(--gc-outline);
    }

    .section {
      background: var(--gc-surface-container-low);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      border: 1px solid var(--gc-outline-variant);
    }

    .highlight {
      background-color: var(--gc-blue-50);
      padding: 2px 8px;
      border-radius: 4px;
      font-weight: 600;
      color: var(--gc-blue-800);
      border-bottom: 2px solid var(--gc-blue-600);
    }

    .card {
      background: var(--gc-surface);
      border-radius: 12px;
      padding: 20px;
      margin: 12px 0;
      border-left: 4px solid var(--gc-blue-600);
      box-shadow: 0 1px 3px rgba(60, 64, 67, 0.12), 0 1px 2px rgba(60, 64, 67, 0.08);
    }

    .card-green {
      border-left-color: var(--gc-green);
    }

    .card-orange {
      border-left-color: var(--gc-orange);
    }

    .card-red {
      border-left-color: var(--gc-red);
    }

    .card-purple {
      border-left-color: var(--gc-purple);
    }

    .card-teal {
      border-left-color: var(--gc-teal);
    }

    .icon-text {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 8px 0;
      color: var(--gc-on-surface-variant);
    }

    .arrow {
      color: var(--gc-blue-600);
      font-size: 20px;
    }

    .gc-link {
      color: var(--gc-blue-600);
      text-decoration: none;
    }

    .gc-link:hover {
      color: var(--gc-blue-800);
      text-decoration: underline;
    }

    .badge,
    .badge-ga,
    .badge-preview,
    .badge-deprecated {
      display: inline-block;
      color: #FFFFFF;
      padding: 4px 12px;
      border-radius: 16px;
      font-size: 13px;
      font-weight: 500;
      letter-spacing: 0.25px;
      margin: 4px 8px 4px 0;
    }

    .badge { background: var(--gc-blue-600); }
    .badge-ga { background: var(--gc-green); color: #FFFFFF; }
    .badge-preview { background: var(--gc-orange); color: #FFFFFF; }

    .flow-diagram {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
      margin: 24px 0;
    }

    .flow-step {
      background: var(--gc-surface);
      border: 2px solid var(--gc-blue-600);
      border-radius: 12px;
      padding: 12px 20px;
      text-align: center;
      min-width: 100px;
      color: var(--gc-on-surface);
      box-shadow: 0 1px 3px rgba(60, 64, 67, 0.12);
    }

    .flow-arrow {
      color: var(--gc-blue-600);
      font-size: 24px;
      font-weight: bold;
    }

    .check-item {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin: 8px 0;
    }

    .check-icon { color: var(--gc-green); font-size: 18px; }
    .cross-icon { color: var(--gc-red); font-size: 18px; }

    /* Code block styles */
    .code-block,
    pre:not(.mermaid) {
      background: #1E1E1E;
      border-radius: 8px;
      padding: 16px;
      font-family: 'Roboto Mono', 'Source Code Pro', 'Courier New', monospace;
      font-size: 15px;
      line-height: 1.6;
      overflow-x: auto;
      color: #E8E8E8;
      margin: 16px 0;
    }

    pre code {
      background: none;
      border: none;
      padding: 0;
      font-size: inherit;
      color: inherit;
    }

    .code-block {
      overflow: hidden;
      padding: 0;
    }

    .code-header {
      background: #2D2D2D;
      padding: 8px 16px;
      display: flex;
      justify-content: space-between;
      font-size: 12px;
    }

    .code-lang {
      color: #9CDCFE;
      font-weight: bold;
    }

    .code-title {
      color: #AAAAAA;
    }

    .code-block pre:not(.mermaid) {
      margin: 0;
      padding: 0;
      border-radius: 0;
    }

    .code-block code {
      font-family: 'Roboto Mono', 'Source Code Pro', 'Courier New', monospace;
      font-size: 15px;
      line-height: 1.6;
      padding: 16px !important;
      display: block;
    }

    code:not(pre code) {
      background: var(--gc-surface-container-low);
      border: 1px solid var(--gc-outline-variant);
      border-radius: 4px;
      padding: 2px 6px;
      font-family: 'Roboto Mono', 'Source Code Pro', 'Courier New', monospace;
      font-size: 0.9em;
      color: var(--gc-blue-900);
    }

    /* Table styles */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid var(--gc-outline-variant);
    }

    th {
      background: var(--gc-blue-50);
      color: var(--gc-blue-900);
      padding: 12px 16px;
      text-align: left;
      font-weight: 600;
      font-size: 14px;
      border-bottom: 2px solid var(--gc-blue-200);
    }

    td {
      padding: 12px 16px;
      border-bottom: 1px solid var(--gc-outline-variant);
      font-size: 14px;
    }

    tr:nth-child(even) { background: var(--gc-surface-container-lowest); }
    tr:hover { background: var(--gc-blue-50); }

    .note-box {
      background: var(--gc-blue-tint);
      border-left: 4px solid var(--gc-blue-600);
      padding: 16px 20px;
      border-radius: 0 12px 12px 0;
      margin: 16px 0;
    }

    .warning-box {
      background: var(--gc-yellow-tint);
      border-left: 4px solid var(--gc-yellow);
      padding: 16px 20px;
      border-radius: 0 12px 12px 0;
      margin: 16px 0;
    }

    .error-box {
      background: var(--gc-red-tint);
      border-left: 4px solid var(--gc-red);
      padding: 16px 20px;
      border-radius: 0 12px 12px 0;
      margin: 16px 0;
    }

    .success-box {
      background: var(--gc-green-tint);
      border-left: 4px solid var(--gc-green);
      padding: 16px 20px;
      border-radius: 0 12px 12px 0;
      margin: 16px 0;
    }

    /* Stat cards */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin: 16px 0;
    }

    .stat-card {
      background: linear-gradient(135deg, var(--gc-blue-600), var(--gc-blue-800));
      color: var(--gc-surface);
      border-radius: 12px;
      padding: 24px;
      text-align: center;
    }

    .stat-value {
      font-size: 36px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .stat-label {
      font-size: 14px;
      opacity: 0.9;
    }

    /* Before/After comparison */
    .comparison-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin: 16px 0;
    }

    .before-card {
      background: var(--gc-red-tint);
      border-left: 4px solid var(--gc-red);
      border-radius: 12px;
      padding: 20px;
    }

    .before-card h3 {
      color: var(--gc-red);
      margin-top: 0;
    }

    .after-card {
      background: var(--gc-green-tint);
      border-left: 4px solid var(--gc-green);
      border-radius: 12px;
      padding: 20px;
    }

    .after-card h3 {
      color: var(--gc-green);
      margin-top: 0;
    }

    /* Mermaid container */
    .mermaid-container {
      background: #FFFFFF;
      border-radius: 12px;
      padding: 24px;
      margin: 20px 0;
      border: 2px solid rgba(66, 133, 244, 0.3);
      overflow-x: auto;
    }

    .mermaid {
      display: flex;
      justify-content: center;
    }

    /* Feature cards grid */
    .feature-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
      margin: 16px 0;
    }

    /* Use case cards */
    .usecase-card {
      background: var(--gc-blue-tint);
      border-radius: 12px;
      padding: 20px;
      margin: 12px 0;
      border: 1px solid var(--gc-blue-200);
    }

    .usecase-card h3 {
      color: var(--gc-blue-800);
      margin-top: 0;
    }

    /* Version badge */
    .version-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 12px;
      margin: 16px 0;
    }

    .version-card {
      background: var(--gc-surface);
      border-radius: 12px;
      padding: 16px;
      border: 2px solid var(--gc-blue-300);
      text-align: center;
      box-shadow: 0 1px 3px rgba(60, 64, 67, 0.12);
    }

    .version-card .ver-number {
      font-size: 28px;
      font-weight: 700;
      color: var(--gc-blue-600);
      margin-bottom: 4px;
    }

    .version-card .ver-spark {
      font-size: 14px;
      color: var(--gc-on-surface-variant);
      margin-bottom: 8px;
    }

    .version-card .ver-badge {
      display: inline-block;
      font-size: 12px;
      padding: 2px 10px;
      border-radius: 12px;
      font-weight: 500;
    }

    .ver-badge-lts {
      background: var(--gc-green-tint);
      color: var(--gc-green);
      border: 1px solid var(--gc-green);
    }

    .ver-badge-default {
      background: var(--gc-blue-50);
      color: var(--gc-blue-600);
      border: 1px solid var(--gc-blue-600);
    }

    .ver-badge-ga {
      background: var(--gc-green-tint);
      color: var(--gc-green);
      border: 1px solid var(--gc-green);
    }

    /* Links section */
    .links-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .links-list li {
      padding: 8px 0;
      border-bottom: 1px solid var(--gc-outline-variant);
    }

    .links-list li:last-child {
      border-bottom: none;
    }

    .links-list a {
      color: var(--gc-blue-600);
      text-decoration: none;
      font-size: 14px;
    }

    .links-list a:hover {
      text-decoration: underline;
      color: var(--gc-blue-800);
    }

    /* Pricing box */
    .pricing-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin: 12px 0;
    }

    .pricing-icon {
      font-size: 24px;
      flex-shrink: 0;
    }

    footer {
      margin-top: 24px;
      padding-top: 16px;
      border-top: 1px solid var(--gc-outline-variant);
      font-size: 12px;
      color: var(--gc-outline);
    }

    footer a {
      color: var(--gc-blue-600);
      text-decoration: underline;
      word-break: break-all;
    }

    /* Responsive */
    @media (max-width: 768px) {
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      .comparison-grid { grid-template-columns: 1fr; }
      .stats-grid { grid-template-columns: 1fr 1fr; }
      .version-grid { grid-template-columns: 1fr 1fr; }
      .header { flex-direction: column; align-items: flex-start; gap: 8px; }
      table { font-size: 12px; }
      th, td { padding: 8px; }
    }

    @media (max-width: 480px) {
      body { padding: 12px; }
      .section { padding: 16px; }
      .stats-grid { grid-template-columns: 1fr; }
      .version-grid { grid-template-columns: 1fr; }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
</head>
<body>
  <div class="container">

    <!-- Header -->
    <div class="header">
      <div>
        <h1>&#9889; Dataproc Serverless for Apache Spark<br>新ランタイムバージョンリリース</h1>
        <div style="margin-top: 8px;">
          <span class="badge">Dataproc Serverless</span>
          <span class="badge-ga" style="display:inline-block; color:#FFFFFF; padding:4px 12px; border-radius:16px; font-size:13px; font-weight:500; letter-spacing:0.25px; margin:4px 8px 4px 0; background:var(--gc-green);">GA</span>
          <span class="badge">Apache Spark</span>
        </div>
      </div>
      <div class="subtitle" style="text-align: right;">
        <div>&#128197; 2026-02-13</div>
        <div>Runtime 1.2.70 / 2.2.70 / 2.3.23 / 3.0.7</div>
      </div>
    </div>

    <!-- Overview Section -->
    <div class="section">
      <h2>&#128203; 概要</h2>
      <p>
        Dataproc Serverless for Apache Spark の新しいランタイムバージョンがリリースされた。今回リリースされたバージョンは
        <span class="highlight">1.2.70</span>、<span class="highlight">2.2.70</span>、<span class="highlight">2.3.23</span>、<span class="highlight">3.0.7</span> の 4 つである。
        週次リリースサイクルの一環として、セキュリティパッチ、バグ修正、パフォーマンス改善が含まれる定期アップデートである。
      </p>
      <p>
        Dataproc Serverless for Apache Spark は、クラスタのプロビジョニングや管理を必要とせずに Spark ワークロードを実行できる<strong>フルマネージドのサーバーレスサービス</strong>である。
        バッチワークロードとインタラクティブセッションの 2 つの方法でワークロードを実行でき、ジョブ実行中のリソース消費に対してのみ課金される。
      </p>
    </div>

    <!-- Stats -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">4</div>
        <div class="stat-label">新ランタイムバージョン</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">&#126;40-50 秒</div>
        <div class="stat-label">平均起動時間</div>
      </div>
      <div class="stat-card" style="background: linear-gradient(135deg, var(--gc-green), #1B7A34);">
        <div class="stat-value">100%</div>
        <div class="stat-label">後方互換性</div>
      </div>
      <div class="stat-card" style="background: linear-gradient(135deg, var(--gc-orange), #E65100);">
        <div class="stat-value">Weekly</div>
        <div class="stat-label">リリースサイクル</div>
      </div>
    </div>

    <!-- Before/After Comparison -->
    <div class="section">
      <h2>&#128260; Before / After</h2>
      <div class="comparison-grid">
        <div class="before-card">
          <h3>&#10060; Before (アップデート前)</h3>
          <div class="check-item">
            <span class="cross-icon">&#10005;</span>
            <span>以前のサブマイナーバージョン (1.2.69, 2.2.69, 2.3.22, 3.0.5 等) で動作</span>
          </div>
          <div class="check-item">
            <span class="cross-icon">&#10005;</span>
            <span>最新のセキュリティパッチやバグ修正が未適用</span>
          </div>
          <div class="check-item">
            <span class="cross-icon">&#10005;</span>
            <span>サブマイナーバージョンの固定 (ピンニング) は非サポート</span>
          </div>
        </div>
        <div class="after-card">
          <h3>&#9989; After (アップデート後)</h3>
          <div class="check-item">
            <span class="check-icon">&#10003;</span>
            <span>最新のセキュリティパッチおよびバグ修正が適用済み</span>
          </div>
          <div class="check-item">
            <span class="check-icon">&#10003;</span>
            <span>継続的な安定性向上とパフォーマンス改善</span>
          </div>
          <div class="check-item">
            <span class="check-icon">&#10003;</span>
            <span>コード変更なしで新バージョンの恩恵を享受可能</span>
          </div>
        </div>
      </div>
    </div>

    <!-- New Runtime Versions -->
    <div class="section">
      <h2>&#128230; 新ランタイムバージョン</h2>
      <div class="version-grid">
        <div class="version-card">
          <div class="ver-number">1.2.70</div>
          <div class="ver-spark">Spark 3.5.1 / Scala 2.12</div>
          <span class="ver-badge ver-badge-lts">LTS</span>
        </div>
        <div class="version-card" style="border-color: var(--gc-blue-600);">
          <div class="ver-number">2.2.70</div>
          <div class="ver-spark">Spark 3.5.1 / Scala 2.13</div>
          <span class="ver-badge ver-badge-lts">LTS</span>
          <span class="ver-badge ver-badge-default">Default</span>
        </div>
        <div class="version-card">
          <div class="ver-number">2.3.23</div>
          <div class="ver-spark">Spark 3.5.3 / Scala 2.13</div>
          <span class="ver-badge ver-badge-lts">LTS</span>
        </div>
        <div class="version-card" style="border-color: var(--gc-green);">
          <div class="ver-number">3.0.7</div>
          <div class="ver-spark">Spark 4.0.0 / Scala 2.13</div>
          <span class="ver-badge ver-badge-ga">GA</span>
        </div>
      </div>
    </div>

    <!-- Architecture Diagram (Mermaid) -->
    <div class="section">
      <h2>&#127959; アーキテクチャ図</h2>
      <p>Dataproc Serverless for Apache Spark のアーキテクチャ概要。ユーザーは Console、gcloud CLI、または API 経由でバッチワークロードを送信し、ランタイムバージョンを指定する。サービスはマネージドインフラストラクチャ上でワークロードを実行し、Cloud Storage や BigQuery などのデータソースと連携する。</p>
      <div class="mermaid-container">
        <pre class="mermaid">
flowchart TD
    subgraph User["ユーザー"]
        Console["Google Cloud Console"]
        CLI["gcloud CLI"]
        API["Dataproc API"]
    end

    subgraph Serverless["Dataproc Serverless for Apache Spark"]
        Submit["バッチ送信 / セッション作成"]
        Runtime["ランタイムバージョン選択"]

        subgraph Versions["サポート対象ランタイム"]
            V12["1.2.70\nSpark 3.5.1 / Scala 2.12"]
            V22["2.2.70\nSpark 3.5.1 / Scala 2.13"]
            V23["2.3.23\nSpark 3.5.3 / Scala 2.13"]
            V30["3.0.7\nSpark 4.0.0 / Scala 2.13"]
        end

        Compute["マネージドコンピュート\n(オートスケーリング)"]
    end

    subgraph Storage["データソース / シンク"]
        GCS[("Cloud Storage")]
        BQ[("BigQuery")]
    end

    Console --> Submit
    CLI --> Submit
    API --> Submit
    Submit --> Runtime
    Runtime --> V12 & V22 & V23 & V30
    V12 & V22 & V23 & V30 --> Compute
    Compute --> GCS & BQ
        </pre>
      </div>
    </div>

    <!-- Key Features -->
    <div class="section">
      <h2>&#128273; 主要機能</h2>
      <div class="feature-grid">
        <div class="card">
          <h3>&#127919; 4 つのランタイム系列への同時リリース</h3>
          <p>1.2.70 (LTS)、2.2.70 (LTS / デフォルト)、2.3.23 (LTS)、3.0.7 (GA) の 4 つのランタイム系列すべてに新しいサブマイナーバージョンを同時にリリース。</p>
        </div>
        <div class="card card-green">
          <h3>&#128279; 後方互換性の保証</h3>
          <p>週次リリースのサブマイナーバージョンアップデートは完全な後方互換性を持つ。Spark、Java ライブラリ、Python パッケージのサブマイナーバージョンアップグレードが含まれる場合がある。</p>
        </div>
        <div class="card card-orange">
          <h3>&#9889; 自動適用</h3>
          <p>サブマイナーバージョンの固定 (ピンニング) はサポートされていないため、メジャー.マイナーバージョン指定時に自動的に最新のサブマイナーバージョンが使用される。</p>
        </div>
      </div>
    </div>

    <!-- Technical Specifications -->
    <div class="section">
      <h2>&#128295; 技術仕様</h2>

      <h3>&#128218; ランタイムバージョン別コンポーネント構成</h3>
      <div style="overflow-x: auto;">
        <table>
          <thead>
            <tr>
              <th>コンポーネント</th>
              <th>1.2.70</th>
              <th>2.2.70</th>
              <th>2.3.23</th>
              <th>3.0.7</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Apache Spark</td>
              <td>3.5.1</td>
              <td>3.5.1</td>
              <td>3.5.3</td>
              <td>4.0.0</td>
            </tr>
            <tr>
              <td>Java</td>
              <td>17</td>
              <td>17</td>
              <td>17</td>
              <td>21</td>
            </tr>
            <tr>
              <td>Python</td>
              <td>3.12</td>
              <td>3.12</td>
              <td>3.11</td>
              <td>3.12</td>
            </tr>
            <tr>
              <td>Scala</td>
              <td>2.12</td>
              <td>2.13</td>
              <td>2.13</td>
              <td>2.13</td>
            </tr>
            <tr>
              <td>R</td>
              <td>4.3</td>
              <td>4.3</td>
              <td>4.3</td>
              <td>-</td>
            </tr>
            <tr>
              <td>Cloud Storage Connector</td>
              <td>3.0.3</td>
              <td>3.0.3</td>
              <td>3.1.2</td>
              <td>3.1.9</td>
            </tr>
            <tr>
              <td>BigQuery Connector</td>
              <td>0.36.4</td>
              <td>0.36.4</td>
              <td>0.42.3</td>
              <td>0.43.1-preview</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h3>&#128197; ランタイムバージョンのサポート期間</h3>
      <div style="overflow-x: auto;">
        <table>
          <thead>
            <tr>
              <th>バージョン</th>
              <th>リリース日</th>
              <th>サポート期限</th>
              <th>利用可能期限</th>
              <th>備考</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>3.0 (GA)</strong></td>
              <td>2025/12/04</td>
              <td>2027/01/31</td>
              <td>2029/01/31</td>
              <td>非 LTS (12 ヶ月サポート)</td>
            </tr>
            <tr>
              <td><strong>2.3 LTS</strong></td>
              <td>2025/05/28</td>
              <td>2027/11/26</td>
              <td>2029/11/26</td>
              <td>LTS (30 ヶ月サポート)</td>
            </tr>
            <tr>
              <td><strong>2.2 LTS</strong></td>
              <td>2024/03/27</td>
              <td>2026/09/30</td>
              <td>2028/09/30</td>
              <td><span class="highlight">デフォルトバージョン</span></td>
            </tr>
            <tr>
              <td><strong>1.2 LTS</strong></td>
              <td>2024/03/27</td>
              <td>2026/09/30</td>
              <td>2028/09/30</td>
              <td>LTS (30 ヶ月サポート)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h3>&#128221; ランタイムバージョンの特徴</h3>
      <div style="overflow-x: auto;">
        <table>
          <thead>
            <tr>
              <th>特徴</th>
              <th>1.2 / 2.2</th>
              <th>2.3</th>
              <th>3.0</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>ノード配置</td>
              <td>リージョン内の単一ゾーン</td>
              <td>リージョン内の単一ゾーン</td>
              <td><strong>リージョン内の複数ゾーン (マルチゾーン)</strong></td>
            </tr>
            <tr>
              <td>Persistent History Server</td>
              <td>サポート</td>
              <td>サポート</td>
              <td>非サポート (Spark UI を使用)</td>
            </tr>
            <tr>
              <td>SparkR バッチ</td>
              <td>サポート</td>
              <td>サポート</td>
              <td>非サポート (sparklyr を使用)</td>
            </tr>
            <tr>
              <td>Jupyter セッション</td>
              <td>サポート</td>
              <td>サポート</td>
              <td>非サポート (Spark Connect を使用)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Setup Instructions -->
    <div class="section">
      <h2>&#128736; 設定方法</h2>

      <h3>&#128220; 前提条件</h3>
      <div class="card">
        <div class="check-item">
          <span class="check-icon">1.</span>
          <span>Google Cloud プロジェクトで <strong>Dataproc API</strong> が有効化されていること</span>
        </div>
        <div class="check-item">
          <span class="check-icon">2.</span>
          <span>ランタイム 3.0 を使用する場合は <code>dataproc-rm.googleapis.com</code> API の有効化が追加で必要</span>
        </div>
        <div class="check-item">
          <span class="check-icon">3.</span>
          <span>ワークロードを実行するサービスアカウントに <strong>Dataproc Worker ロール</strong>が付与されていること</span>
        </div>
      </div>

      <h3>&#128187; ステップ 1: gcloud CLI でランタイムバージョンを指定してバッチを送信</h3>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Bash</span>
          <span class="code-title">ランタイムバージョン 2.2 (デフォルト) を使用</span>
        </div>
        <pre><code class="language-bash">gcloud dataproc batches submit spark \
    --region=us-central1 \
    --jars=file:///usr/lib/spark/examples/jars/spark-examples.jar \
    --class=org.apache.spark.examples.SparkPi \
    -- 1000</code></pre>
      </div>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Bash</span>
          <span class="code-title">特定のランタイムバージョン (2.3) を指定</span>
        </div>
        <pre><code class="language-bash">gcloud dataproc batches submit spark \
    --region=us-central1 \
    --version=2.3 \
    --jars=file:///usr/lib/spark/examples/jars/spark-examples.jar \
    --class=org.apache.spark.examples.SparkPi \
    -- 1000</code></pre>
      </div>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Bash</span>
          <span class="code-title">ランタイムバージョン 3.0 (Spark 4.0) を指定</span>
        </div>
        <pre><code class="language-bash">gcloud dataproc batches submit spark \
    --region=us-central1 \
    --version=3.0 \
    --jars=file:///usr/lib/spark/examples/jars/spark-examples.jar \
    --class=org.apache.spark.examples.SparkPi \
    -- 1000</code></pre>
      </div>

      <h3>&#128187; ステップ 2: Spark プロパティの設定 (オプション)</h3>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Bash</span>
          <span class="code-title">Spark プロパティを指定してバッチ送信</span>
        </div>
        <pre><code class="language-bash">gcloud dataproc batches submit spark \
    --region=us-central1 \
    --version=2.3 \
    --properties=spark.checkpoint.compress=true \
    --jars=file:///usr/lib/spark/examples/jars/spark-examples.jar \
    --class=org.apache.spark.examples.SparkPi \
    -- 1000</code></pre>
      </div>
    </div>

    <!-- Benefits -->
    <div class="section">
      <h2>&#128077; メリット</h2>

      <h3>&#128188; ビジネス面</h3>
      <div class="card card-green">
        <div class="icon-text">
          <span style="font-size:20px;">&#9881;</span>
          <strong>運用負荷の軽減</strong>
        </div>
        <p style="margin: 4px 0 0 28px;">サーバーレスアーキテクチャにより、クラスタの管理・スケーリング・プロビジョニングが不要で NoOps モデルを実現できる。</p>
      </div>
      <div class="card card-green">
        <div class="icon-text">
          <span style="font-size:20px;">&#128176;</span>
          <strong>コスト最適化</strong>
        </div>
        <p style="margin: 4px 0 0 28px;">ジョブ実行時間のみに課金され、起動・停止にかかるコストは発生しない。アイドル時のコンピュートオーバーヘッドもない。</p>
      </div>
      <div class="card card-green">
        <div class="icon-text">
          <span style="font-size:20px;">&#128260;</span>
          <strong>継続的な改善</strong>
        </div>
        <p style="margin: 4px 0 0 28px;">週次リリースによりセキュリティパッチやバグ修正が自動的に適用される。</p>
      </div>

      <h3>&#128295; 技術面</h3>
      <div class="card card-teal">
        <div class="icon-text">
          <span style="font-size:20px;">&#128279;</span>
          <strong>後方互換性</strong>
        </div>
        <p style="margin: 4px 0 0 28px;">サブマイナーバージョンアップデートは完全な後方互換性を持ち、コード変更なしで最新バージョンの恩恵を受けられる。</p>
      </div>
      <div class="card card-teal">
        <div class="icon-text">
          <span style="font-size:20px;">&#127758;</span>
          <strong>マルチゾーン対応 (3.0)</strong>
        </div>
        <p style="margin: 4px 0 0 28px;">ランタイム 3.0 以降ではリージョン内の複数ゾーンにノードを配置することで、ゾーン在庫切れの影響を軽減し、可用性を向上させる。</p>
      </div>
      <div class="card card-teal">
        <div class="icon-text">
          <span style="font-size:20px;">&#128640;</span>
          <strong>高速起動</strong>
        </div>
        <p style="margin: 4px 0 0 28px;">標準およびプレミアムティアともに平均 40-50 秒の起動時間を実現。</p>
      </div>
    </div>

    <!-- Limitations -->
    <div class="section">
      <h2>&#9888; デメリット・制約事項</h2>

      <h3>&#128683; 制限事項</h3>
      <div class="warning-box">
        <div class="check-item">
          <span class="cross-icon">&#10005;</span>
          <span>サブマイナーバージョンの固定 (ピンニング) はサポートされていない。メジャー.マイナーバージョンのみ指定可能。</span>
        </div>
        <div class="check-item">
          <span class="cross-icon">&#10005;</span>
          <span>ランタイム 3.0 では Persistent History Server、SparkR バッチ、Jupyter セッションが非サポート。</span>
        </div>
        <div class="check-item">
          <span class="cross-icon">&#10005;</span>
          <span>分散 Spark XGBoost はオートスケーリングが有効な場合 (デフォルト動作) に使用できない。</span>
        </div>
      </div>

      <h3>&#128161; 考慮すべき点</h3>
      <div class="error-box">
        <strong>&#128197; サポート期限に注意</strong>
        <p style="margin: 8px 0 0 0;">ランタイム 1.2 および 2.2 のサポート期限は <strong>2026/09/30</strong> であり、これらを使用している場合は 2.3 または 3.0 への移行計画を検討する必要がある。</p>
      </div>
      <div class="note-box">
        <strong>&#128279; Spark 4.0 互換性</strong>
        <p style="margin: 8px 0 0 0;">ランタイム 3.0 は Spark 4.0.0 を採用しており、既存の Spark 3.x ベースのワークロードからの移行時に互換性の確認が必要。</p>
      </div>
      <div class="note-box">
        <strong>&#128273; 追加 API 有効化</strong>
        <p style="margin: 8px 0 0 0;">ランタイム 3.0 では <code>dataproc-rm.googleapis.com</code> API の有効化が新たに必要。</p>
      </div>
    </div>

    <!-- Use Cases -->
    <div class="section">
      <h2>&#128161; ユースケース</h2>

      <div class="usecase-card">
        <h3>&#128230; ユースケース 1: バッチ ETL パイプライン</h3>
        <p><strong>シナリオ:</strong> 定期的に実行される ETL パイプラインで、Cloud Storage のデータを BigQuery に変換・ロードする処理を Dataproc Serverless で実行する。</p>

        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">Bash</span>
            <span class="code-title">PySpark バッチ ETL 実行例</span>
          </div>
          <pre><code class="language-bash">gcloud dataproc batches submit pyspark \
    --region=us-central1 \
    --version=2.3 \
    gs://my-bucket/etl/transform.py \
    -- --input=gs://my-bucket/raw/ --output=my-project.my-dataset.my-table</code></pre>
        </div>

        <p><strong>効果:</strong> クラスタの管理が不要で、ジョブ実行時間分のみ課金される。オートスケーリングにより、データ量の変動にも自動対応できる。</p>
      </div>

      <div class="usecase-card">
        <h3>&#128202; ユースケース 2: インタラクティブなデータ分析</h3>
        <p><strong>シナリオ:</strong> データサイエンティストが BigQuery Studio ノートブックから Spark セッションを作成し、PySpark で探索的データ分析を行う。</p>
        <p><strong>効果:</strong> インフラストラクチャの設定なしに即座に分析を開始でき、開発者の生産性が向上する。</p>
      </div>
    </div>

    <!-- Pricing -->
    <div class="section">
      <h2>&#128176; 料金</h2>
      <p>Dataproc Serverless for Apache Spark はジョブ実行中のリソース消費に対してのみ課金される。</p>

      <div class="pricing-item">
        <span class="pricing-icon">&#9889;</span>
        <div>
          <strong>Data Compute Unit (DCU)</strong>
          <p style="margin: 4px 0 0 0;">ワークロードの実行に消費されるコンピュートリソース。</p>
        </div>
      </div>
      <div class="pricing-item">
        <span class="pricing-icon">&#128190;</span>
        <div>
          <strong>Shuffle ストレージ</strong>
          <p style="margin: 4px 0 0 0;">シャッフル操作で使用されるストレージ (GB x 秒 単位)。</p>
        </div>
      </div>

      <div class="note-box">
        <strong>&#128161; ティア構成:</strong> Standard ティアと Premium ティアが提供されている。Premium ティアでは Lightning Engine (クエリアクセラレーション)、Extended Memory、GPU サポートなどの高度な機能が利用可能。Premium ティアは包括的な料金モデルを採用しており、追加のコンピュートコストなしでプレミアム機能にアクセスできる。
      </div>
      <div class="success-box">
        <strong>&#128178; 割引情報:</strong> BigQuery の支出ベースの確約利用割引 (CUD) が Dataproc Serverless ジョブにも適用される。
      </div>
    </div>

    <!-- Related Services -->
    <div class="section">
      <h2>&#128279; 関連サービス・機能</h2>
      <div class="card">
        <div class="icon-text"><span style="font-size:20px;">&#9881;</span> <strong>Dataproc on Compute Engine</strong></div>
        <p style="margin: 4px 0 0 28px;">クラスタベースの Spark 実行環境。深いカスタマイズが必要な場合や既存 Hadoop/Spark ワークロードの移行に適する。</p>
      </div>
      <div class="card">
        <div class="icon-text"><span style="font-size:20px;">&#128202;</span> <strong>BigQuery</strong></div>
        <p style="margin: 4px 0 0 28px;">Spark on BigQuery により BigQuery Studio ノートブックから直接 Spark セッションを作成可能。</p>
      </div>
      <div class="card">
        <div class="icon-text"><span style="font-size:20px;">&#128451;</span> <strong>Cloud Storage</strong></div>
        <p style="margin: 4px 0 0 28px;">Spark ワークロードのデータソースおよびシンクとして広く使用される。</p>
      </div>
      <div class="card">
        <div class="icon-text"><span style="font-size:20px;">&#127925;</span> <strong>Cloud Composer</strong></div>
        <p style="margin: 4px 0 0 28px;">Airflow ベースのワークフローオーケストレーションで Dataproc Serverless バッチワークロードをスケジュール実行可能。</p>
      </div>
      <div class="card">
        <div class="icon-text"><span style="font-size:20px;">&#128200;</span> <strong>Cloud Monitoring / Cloud Logging</strong></div>
        <p style="margin: 4px 0 0 28px;">ワークロードの監視とログ収集。</p>
      </div>
      <div class="card">
        <div class="icon-text"><span style="font-size:20px;">&#128421;</span> <strong>Spark UI</strong></div>
        <p style="margin: 4px 0 0 28px;">ワークロードのモニタリングとデバッグ (Event Timeline、Task Quantile ビュー対応)。</p>
      </div>
    </div>

    <!-- Summary -->
    <div class="section" style="background: var(--gc-blue-tint); border: 2px solid var(--gc-blue-300);">
      <h2>&#128221; まとめ</h2>
      <p>
        Dataproc Serverless for Apache Spark の新ランタイムバージョン (<strong>1.2.70, 2.2.70, 2.3.23, 3.0.7</strong>) は、週次リリースサイクルの一環としてリリースされた定期アップデートである。
        全バージョンが後方互換性を保っており、サブマイナーバージョンの固定はサポートされないため、既存ワークロードには自動的に最新バージョンが適用される。
      </p>
      <div class="warning-box">
        <strong>&#9888; 移行計画の検討を推奨:</strong> ランタイム 1.2 および 2.2 のサポート期限が <strong>2026 年 9 月</strong>に迫っているため、これらを利用中のユーザーは 2.3 LTS または 3.0 への移行計画を早期に策定すること。
      </div>
    </div>

    <!-- Reference Links -->
    <div class="section">
      <h2>&#128279; 参考リンク</h2>
      <ul class="links-list">
        <li><a href="https://docs.cloud.google.com/release-notes#February_13_2026" target="_blank" rel="noopener noreferrer">&#128196; 公式リリースノート</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/docs/overview" target="_blank" rel="noopener noreferrer">&#128214; Dataproc Serverless for Apache Spark 概要</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/docs/concepts/versions/dataproc-serverless-versions" target="_blank" rel="noopener noreferrer">&#128218; ランタイムバージョン一覧</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/docs/concepts/versions/spark-runtime-1.2" target="_blank" rel="noopener noreferrer">Spark ランタイム 1.2 コンポーネント</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/docs/concepts/versions/spark-runtime-2.2" target="_blank" rel="noopener noreferrer">Spark ランタイム 2.2 コンポーネント</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/docs/concepts/versions/spark-runtime-2.3" target="_blank" rel="noopener noreferrer">Spark ランタイム 2.3 コンポーネント</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/docs/concepts/versions/spark-runtime-3.0" target="_blank" rel="noopener noreferrer">Spark ランタイム 3.0 コンポーネント</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/docs/concepts/properties" target="_blank" rel="noopener noreferrer">Spark プロパティ設定</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/docs/quickstarts/spark-batch" target="_blank" rel="noopener noreferrer">&#128640; バッチワークロード送信クイックスタート</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/pricing" target="_blank" rel="noopener noreferrer">&#128176; 料金ページ</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/docs/concepts/dataproc-compare" target="_blank" rel="noopener noreferrer">Dataproc vs Serverless for Apache Spark 比較</a></li>
        <li><a href="https://cloud.google.com/dataproc-serverless/docs/tiers" target="_blank" rel="noopener noreferrer">Standard / Premium ティア</a></li>
      </ul>
    </div>

    <!-- Footer -->
    <footer>
      <p>&#128206; 出典: <a href="https://docs.cloud.google.com/release-notes#February_13_2026" target="_blank" rel="noopener noreferrer">https://docs.cloud.google.com/release-notes#February_13_2026</a></p>
      <p>&#128206; 関連ドキュメント: <a href="https://cloud.google.com/dataproc-serverless/docs/overview" target="_blank" rel="noopener noreferrer">https://cloud.google.com/dataproc-serverless/docs/overview</a></p>
      <p style="margin-top: 8px; color: var(--gc-outline);">Generated on 2026-02-15 | Google Cloud News Infographic</p>
    </footer>

  </div>

  <!-- Mermaid.js -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: 'base',
      themeVariables: {
        primaryColor: '#4285F4',
        primaryTextColor: '#202124',
        primaryBorderColor: '#4285F4',
        lineColor: '#4285F4',
        secondaryColor: '#F1F3F4',
        tertiaryColor: '#FAFAFA',
        background: '#FFFFFF',
        mainBkg: '#E8F0FE',
        nodeBorder: '#4285F4',
        clusterBkg: '#E8F0FE',
        clusterBorder: '#4285F4',
        edgeLabelBackground: '#FFFFFF',
        textColor: '#202124'
      }
    });
  </script>
  <!-- highlight.js -->
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</body>
</html>